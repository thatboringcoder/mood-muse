<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mood Muse — Shayari & Poems</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0b0b10;
      --card: rgba(255,255,255,0.08);
      --card-border: rgba(255,255,255,0.18);
      --text: #e8e8ef;
      --muted: #b8b8c9;
      --accent: #a8c5ff;
    }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      color: var(--text);
      background: radial-gradient(60vmax 60vmax at 10% 10%, rgba(139,92,246,0.25), transparent 60%),
                  radial-gradient(50vmax 60vmax at 90% 20%, rgba(14,165,233,0.25), transparent 60%),
                  radial-gradient(70vmax 60vmax at 40% 90%, rgba(244,114,182,0.2), transparent 60%),
                  linear-gradient(160deg, #0b0b10 0%, #12121a 100%);
      min-height:100%;
      overflow-x:hidden;
    }
    .mesh-blob{
      position: fixed; inset: 0; pointer-events:none; filter: blur(65px) saturate(120%);
      opacity:0.8; mix-blend-mode: screen; z-index:-1;
    }
    header{
      max-width:1100px; margin: 24px auto; padding: 0 20px; display:flex; align-items:center; justify-content:space-between;
    }
    .logo{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:0.5px}
    .logo .dot{width:10px; height:10px; border-radius:50%; background:#a78bfa; box-shadow:0 0 22px #a78bfa88}
    .pill{
      padding:8px 14px; border-radius:999px; background:var(--card); border:1px solid var(--card-border);
      font-size:12px; color:var(--muted);
    }
    main{max-width:1100px; margin:0 auto; padding: 24px 20px 80px;}
    .card{
      background: var(--card); border:1px solid var(--card-border); border-radius: 20px; padding: 18px 18px; backdrop-filter: blur(6px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }
    .hero{display:grid; grid-template-columns: 1.1fr 0.9fr; gap: 20px; align-items:stretch;}
    @media (max-width: 880px){.hero{grid-template-columns: 1fr;}}

    h1{font-family: "Playfair Display", serif; font-weight:700; font-size: clamp(32px, 4.2vw, 56px); margin: 0 0 10px}
    h2{font-family: "Playfair Display", serif; font-weight:600; margin: 0 0 12px}
    p.lead{color:var(--muted); margin: 0 0 18px; line-height:1.6}

    .fields{display:grid; grid-template-columns: 1fr 1fr; gap: 12px}
    .fields .full{grid-column: 1 / -1}
    label{font-size:13px; color:var(--muted); margin-bottom:6px; display:block}
    input, select, textarea{
      width:100%; padding: 12px 14px; border-radius:14px; background: rgba(255,255,255,0.06);
      border:1px solid var(--card-border); color:var(--text); outline:none; font-size:14px;
    }
    textarea{min-height:84px; resize:vertical}
    .hint{font-size:12px; color:#9aa2b1}
    .actions{display:flex; gap:10px; margin-top: 10px}
    button{
      padding: 12px 16px; border-radius:14px; background:linear-gradient(135deg, #7dd3fc, #a78bfa);
      color:#0b0b10; font-weight:700; border:none; cursor:pointer; box-shadow: 0 8px 22px rgba(167,139,250,0.25);
    }
    button.secondary{background:transparent; color:var(--text); border:1px solid var(--card-border)}

    .section{margin-top:22px}
    .poem{
      padding: 16px; border-radius: 14px; background: rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.12);
    }
    .poem h3{margin:0 0 6px; font-family: "Playfair Display", serif}
    .poem pre{white-space: pre-wrap; line-height:1.7; margin: 8px 0 0; font-family: ui-serif, Georgia, "Times New Roman", Times, serif}

    .grid{display:grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap:14px}
    @media (max-width: 880px){.grid{grid-template-columns: 1fr;}}

    .toolbar{display:flex; gap: 10px; align-items:center; justify-content:space-between; margin: 10px 0 6px}
    .toolbar .meta{font-size:13px; color:var(--muted)}

    footer{max-width:1100px; margin: 0 auto 40px; padding: 0 20px; color:var(--muted); font-size:12px}
    .tiny{font-size:12px; color:var(--muted)}
  </style>
</head>
<body>
  <div class="mesh-blob"></div>
  <header>
    <div class="logo"><span class="dot"></span> Mood Muse</div>
    <div class="pill">Aesthetic, soft vibes • Mesh gradients • Shayari + Poems</div>
  </header>
  <main>
    <section class="hero">
      <div class="card">
        <h1>Find words that match your mood.</h1>
        <p class="lead">Tell us your name, how you're feeling (use words like <em>fine</em>, <em>sad</em>, <em>happy</em>, <em>lonely</em>…), and the language you prefer. We'll curate shayaris and poems just for you.</p>
        <form id="moodForm" autocomplete="off">
          <div class="fields">
            <div>
              <label for="name">Your name</label>
              <input id="name" name="name" placeholder="e.g., Suryansh" required />
            </div>
            <div>
              <label for="language">Language / भाषा</label>
              <select id="language" name="language">
                <option value="en">English</option>
                <option value="hi">हिन्दी</option>
                <option value="mix">Both / दोनों</option>
              </select>
            </div>
            <div class="full">
              <label for="mood">How are you feeling? (keywords)</label>
              <input id="mood" name="mood" placeholder="fine, sad, happy, stressed, in love, lonely…" />
              <div class="hint">We detect the vibe automatically. Try: fine • sad • happy • lonely • in love • angry • anxious • calm • nostalgic • motivated.</div>
            </div>
          </div>
          <div class="actions">
            <button type="submit">Curate for me ✨</button>
            <button type="button" class="secondary" id="randomBtn">I'm not sure — surprise me</button>
          </div>
        </form>
      </div>
      <div class="card">
        <h2 style="margin-top:2px">Soft mesh, softer words</h2>
        <p class="lead">A gentle space for verses. We always include <em>“I Wandered Lonely as a Cloud (Daffodils)”</em> by William Wordsworth, plus other classics and fresh shayari matched to your mood.</p>
        <div class="poem">
          <h3 style="margin:0">Why we ask mood?</h3>
          <pre>So poems meet you where you are—
not as a lecture, but a lantern.</pre>
        </div>
        <div class="tiny" style="margin-top:8px">Note: “Daffodils” is by William Wordsworth (often misattributed to Shakespeare!).</div>
      </div>
    </section>

    <section id="results" class="section" style="display:none">
      <div class="toolbar">
        <div class="meta" id="greeting"></div>
        <div>
          <button id="switchLang" class="secondary" title="Toggle English/Hindi">Switch Language</button>
        </div>
      </div>
      <div class="grid" id="poemGrid"></div>
    </section>
  </main>
  <footer>
    Crafted with calm energy. Public‑domain classics + original shayari.
  </footer>

  <script>
    // --- Simple animated mesh overlay ---
    (function mesh() {
      const el = document.querySelector('.mesh-blob');
      function frame(t){
        const a = Math.sin(t/2400)*30 + 30; // sizes wiggle
        const b = Math.cos(t/3100)*40 + 40;
        const c = Math.sin(t/2800 + 1.2)*50 + 50;
        el.style.background = `radial-gradient(${a}vmax ${b}vmax at ${20 + Math.sin(t/2200)*30}% ${20 + Math.cos(t/2600)*20}%, rgba(167,139,250,0.18), transparent 60%),
                                radial-gradient(${b}vmax ${c}vmax at ${80 + Math.cos(t/2000)*20}% ${25 + Math.sin(t/2400)*20}%, rgba(56,189,248,0.18), transparent 60%),
                                radial-gradient(${c}vmax ${a}vmax at ${45 + Math.sin(t/1800)*10}% ${85 + Math.cos(t/2100)*10}%, rgba(244,114,182,0.14), transparent 60%)`;
        requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);
    })();

    // --- Mood detection ---
    const MOOD_MAP = {
      sad: ['sad','down','heartbroken','blue','low','depressed','unhappy','gloom','upset'],
      happy: ['happy','joy','glad','delighted','ecstatic','excited','good','great'],
      fine: ['fine','okay','ok','alright','meh','normal','neutral','so-so','so so'],
      lonely: ['lonely','alone','isolated','solitude','missing','miss'],
      love: ['love','in love','crush','romantic','romance','beloved','pyaar','ishq'],
      angry: ['angry','mad','furious','annoyed','irritated','rage'],
      anxious: ['anxious','anxiety','stressed','stress','worried','nervous','overwhelmed','panic'],
      calm: ['calm','peaceful','relaxed','serene','chill'],
      motivated: ['motivated','inspired','driven','hustle','focus','grind','productive'],
      nostalgic: ['nostalgic','nostalgia','memories','missing old','yadein','यादें']
    };

    function inferMood(text){
      if(!text) return 'fine';
      const t = text.toLowerCase();
      for(const key in MOOD_MAP){
        if(MOOD_MAP[key].some(w => t.includes(w))) return key;
      }
      return 'fine';
    }

    // --- Library of poems/shayari ---
    const LIB = {
      en: {
        common: [
          {
            title: 'I Wandered Lonely as a Cloud (Daffodils)',
            author: 'William Wordsworth',
            content: `I wandered lonely as a cloud
That floats on high o'er vales and hills,
When all at once I saw a crowd,
A host, of golden daffodils;
Beside the lake, beneath the trees,
Fluttering and dancing in the breeze.

Continuous as the stars that shine
And twinkle on the milky way,
They stretched in never-ending line
Along the margin of a bay:
Ten thousand saw I at a glance,
Tossing their heads in sprightly dance.

The waves beside them danced; but they
Out-did the sparkling waves in glee:
A poet could not but be gay,
In such a jocund company:
I gazed—and gazed—but little thought
What wealth to me the show had brought:

For oft, when on my couch I lie
In vacant or in pensive mood,
They flash upon that inward eye
Which is the bliss of solitude;
And then my heart with pleasure fills,
And dances with the daffodils.`
          }
        ],
        happy: [
          { title: 'Today', author: 'Original', content: `Sunlight on the desk,
a checklist finally smiling—
hello, easy day.`},
          { title: 'Hope is the thing with feathers (excerpt)', author: 'Emily Dickinson', content: `Hope is the thing with feathers—
That perches in the soul—
And sings the tune without the words—
And never stops—at all—`}
        ],
        fine: [
          { title: 'Perfectly Ordinary', author: 'Original', content: `Some days taste like lukewarm tea;
that’s fine—
sweetness returns quietly.`}
        ],
        calm: [
          { title: 'Small Lake', author: 'Original', content: `I learn from water
how to keep moving
without making a sound.`}
        ],
        sad: [
          { title: 'Annabel Lee (excerpt)', author: 'Edgar Allan Poe', content: `It was many and many a year ago,
In a kingdom by the sea,
That a maiden there lived whom you may know
By the name of Annabel Lee;`},
          { title: 'Rain', author: 'Original', content: `Let the sky cry tonight;
we’ll borrow its courage
and breathe again.`}
        ],
        lonely: [
          { title: 'Window', author: 'Original', content: `Streetlight on the wall—
proof that even from a distance,
things can keep you warm.`}
        ],
        love: [
          { title: 'Sonnet 18 (excerpt)', author: 'William Shakespeare', content: `Shall I compare thee to a summer’s day?
Thou art more lovely and more temperate:`},
          { title: 'Paper Boats', author: 'Original', content: `I write your name
on the margin of a cloud—
it still finds you.`}
        ],
        angry: [
          { title: 'Breath', author: 'Original', content: `Count the tide back in—
spare the shore your storm.`}
        ],
        anxious: [
          { title: 'Anchor', author: 'Original', content: `Name five things you trust;
start with your heartbeat.
Stay.`}
        ],
        motivated: [
          { title: 'Begin', author: 'Original', content: `Sharpen the morning—
not with noise, but with a promise
you intend to keep.`}
        ],
        nostalgic: [
          { title: 'Attic Light', author: 'Original', content: `We opened a box of air—
and all the summers ran out.`}
        ]
      },
      hi: {
        common: [
          { title: 'डैफ़ोडिल्स (अनुवाद अंश)', author: 'विलियम वर्ड्सवर्थ', content: `मैं बादल-सा भटका,
पहाड़ियों-घाटियों के ऊपर;
अचानक दिखीं सोने-सी डैफ़ोडिलें—
झील के पास, पेड़ों तले,
हवा में नाचती, फड़फड़ाती।`}
        ],
        happy: [
          { title: 'हल्की सी धूप', author: 'मौलिक', content: `बालकनी में बैठी धूप,
चाय की भाप में मुस्कान—
दिन आज आसान।`}
        ],
        fine: [
          { title: 'ठीक-ठाक', author: 'मौलिक', content: `न नश्तर-सा दर्द,
न कोई खास खुशी—
यही भी एक राहत है।`}
        ],
        calm: [
          { title: 'सादा पानी', author: 'मौलिक', content: `बहना भी सीखो,
शोर किए बिना—
जैसे नदी।`}
        ],
        sad: [
          { title: 'बरसात', author: 'मौलिक', content: `आसमान रो ले आज,
हम बाद में मुसकाएँगे—
आसू धुल जाएँगे।`}
        ],
        lonely: [
          { title: 'खिड़की', author: 'मौलिक', content: `सड़क-बत्ती की लौ,
दूर से भी समझाती है—
रिश्ते पास हैं।`}
        ],
        love: [
          { title: 'ग़ालिब (शेर)', author: 'मिर्ज़ा ग़ालिब', content: `हज़ारों ख़्वाहिशें ऐसी कि हर ख़्वाहिश पे दम निकले,
बहुत निकले मेरे अरमान, लेकिन फिर भी कम निकले।`},
          { title: 'काग़ज़ की नाव', author: 'मौलिक', content: `तेरा नाम लिखकर
बादल की धार पर—
बरस में भी मिलते हैं।`}
        ],
        angry: [
          { title: 'ठहरो', author: 'मौलिक', content: `लफ़्ज़ों को धार न दो—
चुप्पी भी समझाती है।`}
        ],
        anxious: [
          { title: 'साँस', author: 'मौलिक', content: `पाँच भरोसे गिनो—
पहला, अपनी धड़कन;
बाक़ी खुद आ जाएँगे।`}
        ],
        motivated: [
          { title: 'आरंभ', author: 'मौलिक', content: `सुबह को तेज़ करो,
शोर से नहीं—
एक सच्चे वादे से।`}
        ],
        nostalgic: [
          { title: 'बक्सा', author: 'मौलिक', content: `पुराना बक्सा खोला,
और सारे सावन उड़ पड़े।`}
        ]
      }
    };

    function pickByMood(lang, mood){
      const list = [];
      // Always include the common (Wordsworth Daffodils)
      list.push(...LIB[lang].common);
      const moodList = LIB[lang][mood] || LIB[lang].fine;
      list.push(...moodList);
      return list;
    }

    function renderPoems(name, lang, mood){
      const grid = document.getElementById('poemGrid');
      grid.innerHTML = '';
      const items = pickByMood(lang, mood);
      items.forEach(item => {
        const card = document.createElement('div');
        card.className = 'poem';
        card.innerHTML = `<h3>${item.title}</h3><div class="tiny">by ${item.author} • ${lang === 'en' ? 'English' : 'हिन्दी'}</div><pre>${item.content}</pre>`;
        grid.appendChild(card);
      });
    }

    function updateGreeting(name, mood, lang){
      const moodNice = mood.charAt(0).toUpperCase() + mood.slice(1);
      const langNice = lang === 'en' ? 'English' : (lang === 'hi' ? 'हिन्दी' : 'Both');
      document.getElementById('greeting').textContent = `Hi ${name} — mood sensed: ${moodNice} • language: ${langNice}`;
    }

    const form = document.getElementById('moodForm');
    const results = document.getElementById('results');
    const switchBtn = document.getElementById('switchLang');

    let STATE = { name: '', mood: 'fine', lang: 'en' };

    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name = document.getElementById('name').value.trim() || 'Friend';
      const lang = document.getElementById('language').value;
      const moodText = document.getElementById('mood').value;
      const mood = inferMood(moodText);
      STATE = { name, mood, lang };
      localStorage.setItem('moodMuse', JSON.stringify(STATE));
      results.style.display = 'block';
      updateGreeting(name, mood, lang === 'mix' ? 'en' : lang);
      renderPoems(name, lang === 'mix' ? 'en' : lang, mood);
      // If mix, also append Hindi in a second pass
      if(lang === 'mix'){
        const sep = document.createElement('div');
        sep.className = 'tiny';
        sep.style.margin = '6px 0';
        sep.textContent = '— हिन्दी —';
        document.getElementById('poemGrid').appendChild(sep);
        renderPoems(name, 'hi', mood);
      }
      window.scrollTo({ top: results.offsetTop - 10, behavior: 'smooth' });
    });

    document.getElementById('randomBtn').addEventListener('click', ()=>{
      const names = [' Dost ', ' Mitra ', ' دوست ', ' Friend '];
      document.getElementById('name').value = names[Math.floor(Math.random()*names.length)].trim();
      document.getElementById('mood').value = ['fine','happy','calm','sad','lonely','love','anxious','motivated'][Math.floor(Math.random()*8)];
      form.dispatchEvent(new Event('submit'));
    });

    switchBtn.addEventListener('click', ()=>{
      if(!results.style.display || results.style.display === 'none') return;
      // toggle between en and hi
      const nextLang = STATE.lang === 'en' ? 'hi' : 'en';
      STATE.lang = nextLang;
      updateGreeting(STATE.name, STATE.mood, nextLang);
      renderPoems(STATE.name, nextLang, STATE.mood);
    });

    // Restore state if available
    try{
      const saved = JSON.parse(localStorage.getItem('moodMuse'));
      if(saved && saved.name){
        STATE = saved; 
        document.getElementById('name').value = STATE.name;
        document.getElementById('language').value = STATE.lang;
        document.getElementById('mood').value = STATE.mood;
        results.style.display = 'block';
        updateGreeting(STATE.name, STATE.mood, STATE.lang === 'mix' ? 'en' : STATE.lang);
        renderPoems(STATE.name, STATE.lang === 'mix' ? 'en' : STATE.lang, STATE.mood);
        if(STATE.lang === 'mix'){
          const sep = document.createElement('div');
          sep.className = 'tiny';
          sep.style.margin = '6px 0';
          sep.textContent = '— हिन्दी —';
          document.getElementById('poemGrid').appendChild(sep);
          renderPoems(STATE.name, 'hi', STATE.mood);
        }
      }
    }catch{}
  </script>
</body>
</html>
